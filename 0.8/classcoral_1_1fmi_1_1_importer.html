<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>coral: coral::fmi::Importer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">coral
   </div>
   <div id="projectbrief">A C++ library for distributed co-simulation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>coral</b></li><li class="navelem"><a class="el" href="namespacecoral_1_1fmi.html">fmi</a></li><li class="navelem"><a class="el" href="classcoral_1_1fmi_1_1_importer.html">Importer</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classcoral_1_1fmi_1_1_importer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">coral::fmi::Importer Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Imports and caches FMUs.  
 <a href="classcoral_1_1fmi_1_1_importer.html#details">More...</a></p>

<p><code>#include &quot;<a class="el" href="importer_8hpp_source.html">coral/fmi/importer.hpp</a>&quot;</code></p>
<div class="dynheader">
Inheritance diagram for coral::fmi::Importer:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classcoral_1_1fmi_1_1_importer.png" usemap="#coral::fmi::Importer_map" alt=""/>
  <map id="coral::fmi::Importer_map" name="coral::fmi::Importer_map">
<area doxygen="C:/Users/larky/Development/viproma/coral-super/releases/temp/coral_0.8.0_win32-msvc12-Release/coral-prefix/src/coral/cmake/cppreference-doxygen-web.tag.xml:http://en.cppreference.com/w/" href="http://en.cppreference.com/w/cpp/memory/enable_shared_from_this.html" alt="std::enable_shared_from_this&lt; Importer &gt;" shape="rect" coords="0,0,246,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aab6b5c1c388a599c5e488b861c94eb43"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="C:/Users/larky/Development/viproma/coral-super/releases/temp/coral_0.8.0_win32-msvc12-Release/coral-prefix/src/coral/cmake/cppreference-doxygen-web.tag.xml:http://en.cppreference.com/w/" href="http://en.cppreference.com/w/cpp/memory/shared_ptr.html">std::shared_ptr</a>&lt; <a class="el" href="classcoral_1_1fmi_1_1_f_m_u.html">FMU</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoral_1_1fmi_1_1_importer.html#aab6b5c1c388a599c5e488b861c94eb43">Import</a> (const boost::filesystem::path &amp;fmuPath)</td></tr>
<tr class="memdesc:aab6b5c1c388a599c5e488b861c94eb43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Imports and loads an FMU.  <a href="#aab6b5c1c388a599c5e488b861c94eb43">More...</a><br /></td></tr>
<tr class="separator:aab6b5c1c388a599c5e488b861c94eb43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2dae534674dc613a05ccb77a7bc009d2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoral_1_1fmi_1_1_importer.html#a2dae534674dc613a05ccb77a7bc009d2">CleanCache</a> ()</td></tr>
<tr class="memdesc:a2dae534674dc613a05ccb77a7bc009d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes unused files and directories from the FMU cache.  <a href="#a2dae534674dc613a05ccb77a7bc009d2">More...</a><br /></td></tr>
<tr class="separator:a2dae534674dc613a05ccb77a7bc009d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0f85ff4a4d0bf90dc7e28a2ba6fc707"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac0f85ff4a4d0bf90dc7e28a2ba6fc707"></a>
<a class="elRef" doxygen="C:/Users/larky/Development/viproma/coral-super/releases/temp/coral_0.8.0_win32-msvc12-Release/coral-prefix/src/coral/cmake/cppreference-doxygen-web.tag.xml:http://en.cppreference.com/w/" href="http://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoral_1_1fmi_1_1_importer.html#ac0f85ff4a4d0bf90dc7e28a2ba6fc707">LastErrorMessage</a> ()</td></tr>
<tr class="memdesc:ac0f85ff4a4d0bf90dc7e28a2ba6fc707"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the last FMI Library error message. <br /></td></tr>
<tr class="separator:ac0f85ff4a4d0bf90dc7e28a2ba6fc707"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ac388ecbb328626288fa732626033fc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3ac388ecbb328626288fa732626033fc"></a>
fmi_import_context_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoral_1_1fmi_1_1_importer.html#a3ac388ecbb328626288fa732626033fc">FmilibHandle</a> () const </td></tr>
<tr class="memdesc:a3ac388ecbb328626288fa732626033fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a pointer to the underlying FMI Library import context. <br /></td></tr>
<tr class="separator:a3ac388ecbb328626288fa732626033fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a866f982681c5a21c5120c6ce66a5b7f5"><td class="memItemLeft" align="right" valign="top">static <a class="elRef" doxygen="C:/Users/larky/Development/viproma/coral-super/releases/temp/coral_0.8.0_win32-msvc12-Release/coral-prefix/src/coral/cmake/cppreference-doxygen-web.tag.xml:http://en.cppreference.com/w/" href="http://en.cppreference.com/w/cpp/memory/shared_ptr.html">std::shared_ptr</a>&lt; <a class="el" href="classcoral_1_1fmi_1_1_importer.html">Importer</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoral_1_1fmi_1_1_importer.html#a866f982681c5a21c5120c6ce66a5b7f5">Create</a> (const boost::filesystem::path &amp;cachePath)</td></tr>
<tr class="memdesc:a866f982681c5a21c5120c6ce66a5b7f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new FMU importer that uses a specific cache directory.  <a href="#a866f982681c5a21c5120c6ce66a5b7f5">More...</a><br /></td></tr>
<tr class="separator:a866f982681c5a21c5120c6ce66a5b7f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2143930e660198b26d376f579cefb84"><td class="memItemLeft" align="right" valign="top">static <a class="elRef" doxygen="C:/Users/larky/Development/viproma/coral-super/releases/temp/coral_0.8.0_win32-msvc12-Release/coral-prefix/src/coral/cmake/cppreference-doxygen-web.tag.xml:http://en.cppreference.com/w/" href="http://en.cppreference.com/w/cpp/memory/shared_ptr.html">std::shared_ptr</a>&lt; <a class="el" href="classcoral_1_1fmi_1_1_importer.html">Importer</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoral_1_1fmi_1_1_importer.html#af2143930e660198b26d376f579cefb84">Create</a> ()</td></tr>
<tr class="memdesc:af2143930e660198b26d376f579cefb84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new FMU importer that uses a temporary cache directory.  <a href="#af2143930e660198b26d376f579cefb84">More...</a><br /></td></tr>
<tr class="separator:af2143930e660198b26d376f579cefb84"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Imports and caches FMUs. </p>
<p>The main purpose of this class is to read FMU files and create <a class="el" href="classcoral_1_1fmi_1_1_f_m_u.html" title="An interface for classes that represent imported FMUs. ">coral::fmi::FMU</a> objects to represent them. This is done with the <a class="el" href="classcoral_1_1fmi_1_1_importer.html#aab6b5c1c388a599c5e488b861c94eb43" title="Imports and loads an FMU. ">Import()</a> function.</p>
<p>An <a class="el" href="classcoral_1_1fmi_1_1_importer.html" title="Imports and caches FMUs. ">Importer</a> object uses an on-disk cache that holds the unpacked contents of previously imported FMUs, so that they don't need to be unpacked anew every time they are imported. This is a huge time-saver when large and/or many FMUs are loaded. The path to this cache may be supplied by the user, in which case it is not automatically emptied on destruction. Thus, if the same path is supplied each time, the cache becomes persistent between program runs. It may be cleared manually by calling <a class="el" href="classcoral_1_1fmi_1_1_importer.html#a2dae534674dc613a05ccb77a7bc009d2" title="Removes unused files and directories from the FMU cache. ">CleanCache()</a>.</p>
<dl class="section warning"><dt>Warning</dt><dd>Currently there are no synchronisation mechanisms to protect the cache from concurrent use, so accessing the same cache from multiple instances/processes will likely cause problems. </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a2dae534674dc613a05ccb77a7bc009d2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void coral::fmi::Importer::CleanCache </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes unused files and directories from the FMU cache. </p>
<p>This will remove all FMU contents from the cache, except the ones for which there currently exist <a class="el" href="classcoral_1_1fmi_1_1_f_m_u.html" title="An interface for classes that represent imported FMUs. ">FMU</a> objects. </p>

</div>
</div>
<a class="anchor" id="a866f982681c5a21c5120c6ce66a5b7f5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="elRef" doxygen="C:/Users/larky/Development/viproma/coral-super/releases/temp/coral_0.8.0_win32-msvc12-Release/coral-prefix/src/coral/cmake/cppreference-doxygen-web.tag.xml:http://en.cppreference.com/w/" href="http://en.cppreference.com/w/cpp/memory/shared_ptr.html">std::shared_ptr</a>&lt;<a class="el" href="classcoral_1_1fmi_1_1_importer.html">Importer</a>&gt; coral::fmi::Importer::Create </td>
          <td>(</td>
          <td class="paramtype">const boost::filesystem::path &amp;&#160;</td>
          <td class="paramname"><em>cachePath</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a new FMU importer that uses a specific cache directory. </p>
<p>The given directory will not be removed nor emptied on destruction.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cachePath</td><td>The path to the directory which will hold the FMU cache. If it does not exist already, it will be created. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af2143930e660198b26d376f579cefb84"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="elRef" doxygen="C:/Users/larky/Development/viproma/coral-super/releases/temp/coral_0.8.0_win32-msvc12-Release/coral-prefix/src/coral/cmake/cppreference-doxygen-web.tag.xml:http://en.cppreference.com/w/" href="http://en.cppreference.com/w/cpp/memory/shared_ptr.html">std::shared_ptr</a>&lt;<a class="el" href="classcoral_1_1fmi_1_1_importer.html">Importer</a>&gt; coral::fmi::Importer::Create </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a new FMU importer that uses a temporary cache directory. </p>
<p>A new cache directory will be created in a location suitable for temporary files under the conventions of the operating system. It will be completely removed again on destruction. </p>

</div>
</div>
<a class="anchor" id="aab6b5c1c388a599c5e488b861c94eb43"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="C:/Users/larky/Development/viproma/coral-super/releases/temp/coral_0.8.0_win32-msvc12-Release/coral-prefix/src/coral/cmake/cppreference-doxygen-web.tag.xml:http://en.cppreference.com/w/" href="http://en.cppreference.com/w/cpp/memory/shared_ptr.html">std::shared_ptr</a>&lt;<a class="el" href="classcoral_1_1fmi_1_1_f_m_u.html">FMU</a>&gt; coral::fmi::Importer::Import </td>
          <td>(</td>
          <td class="paramtype">const boost::filesystem::path &amp;&#160;</td>
          <td class="paramname"><em>fmuPath</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Imports and loads an FMU. </p>
<p>Loaded FMUs are managed using reference counting. If an FMU is loaded, and then the same FMU is loaded again before the first one has been destroyed, the second call will return a reference to the first one. (Two FMUs are deemed to be the same if they have the same path <em>or</em> the same GUID.)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fmuPath</td><td>The path to the FMU file. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An object which represents the imported FMU. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>coral/fmi/<a class="el" href="importer_8hpp_source.html">importer.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Apr 7 2017 10:56:12 for coral by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
